<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>InternCheck | Reports</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<div class="app">

    <!-- Header / nav, same style as index page -->
    <header class="header">
        <a href="{{ url_for('index') }}" class="brand">
            <div class="logo">IC</div>
            <div>
                <div class="h1">InternCheck</div>
                <small class="muted">Detect and avoid fake internships</small>
            </div>
        </a>

        <nav>
            <div class="links">
                <a href="{{ url_for('index') }}">Home</a>
                <a href="{{ url_for('internships') }}">Internships</a>
                <a href="{{ url_for('post_internship') }}">Post Internship</a>
                <a href="{{ url_for('recommend') }}">Recommend</a>
                <a href="{{ url_for('reports') }}">Reports</a>
                {% if user %}
                    <a href="{{ url_for('manage') }}">Manage</a>
                    <a href="{{ url_for('logout') }}">Logout</a>
                {% else %}
                    <a href="{{ url_for('login') }}">Login</a>
                {% endif %}
            </div>
        </nav>
    </header>

    <!-- Main content box -->
    <main class="container">

        <div class="h1">Platform Insights</div>
        <p class="muted">Overview of applications, skills in demand, and active companies.</p>

        <!-- Total applications card -->
        <div class="card" style="margin-top:16px; margin-bottom:16px;">
            <div class="h1">Total Applications</div>
            <p style="font-size:28px; font-weight:700; margin:8px 0;">{{ total_apps }}</p>
            <small class="muted">Total applications submitted by students on InternCheck.</small>
        </div>

        <!-- Two-column layout for skills and companies -->
        <div class="grid">
            <!-- Top skills card -->
            <section class="card">
                <div class="h1">Top Skills</div>
                {% if top_skills %}
                    <table class="table">
                        <thead>
                        <tr>
                            <th>Skill</th>
                            <th>Count</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for skill, count in top_skills %}
                            <tr>
                                <td>{{ skill }}</td>
                                <td>{{ count }}</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                {% else %}
                    <p class="muted">No skills data yet.</p>
                {% endif %}
            </section>

            <!-- Top companies card -->
            <section class="card">
                <div class="h1">Top Companies</div>
                {% if top_companies %}
                    <table class="table">
                        <thead>
                        <tr>
                            <th>Company</th>
                            <th>Postings</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for row in top_companies %}
                            <tr>
                                <td>{{ row["full_name"] or "Unknown company" }}</td>
                                <td>{{ row["cnt"] }}</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                {% else %}
                    <p class="muted">No company data yet.</p>
                {% endif %}
            </section>
        </div>

        <!-- Actions -->
        <div style="margin-top:20px; display:flex; gap:12px; flex-wrap:wrap;">
            <form action="{{ url_for('index') }}" method="get">
                <button type="submit" class="btn">Back to Home</button>
            </form>

            <form action="{{ url_for('admin_reports') }}" method="get">
                <button type="submit" class="btn">Reported Internships (Admin)</button>
            </form>
        </div>

    </main>

    <p class="footer-note">© InternCheck</p>
</div>
</body>
</html>














<!-- 
 <!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>InternCheck | Reports</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body class="page">
<header class="navbar">
    <div class="nav-left">
        <a href="{{ url_for('index') }}" class="logo">InternCheck</a>
    </div>
    <nav class="nav-links">
        <a href="{{ url_for('internships') }}">Internships</a>
        <a href="{{ url_for('post_internship') }}">Post Internship</a>
        <a href="{{ url_for('recommend') }}">Recommend</a>
        <a href="{{ url_for('reports') }}" class="active">Reports</a>
        {% if user %}
            <a href="{{ url_for('manage') }}">Manage</a>
            <a href="{{ url_for('logout') }}">Logout</a>
        {% else %}
            <a href="{{ url_for('login') }}">Login</a>
        {% endif %}
    </nav>
</header>

<main class="container">
    <section class="section-header">
        <h1>Platform Insights</h1>
        <p>Overview of internships, applications, and in‑demand skills.</p>
    </section>

    <section class="cards-grid">
        <div class="card stat-card">
            <h2>Total Applications</h2>
            <p class="stat-number">{{ total_apps }}</p>
        </div>

        <div class="card">
            <h2>Top Skills</h2>
            {% if top_skills %}
                <ul class="tag-list">
                    {% for skill, count in top_skills %}
                        <li class="tag">
                            <span class="tag-name">{{ skill }}</span>
                            <span class="tag-count">{{ count }}</span>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>No skills data yet.</p>
            {% endif %}
        </div>

        <div class="card">
            <h2>Top Companies</h2>
            {% if top_companies %}
                <ul class="simple-list">
                    {% for row in top_companies %}
                        <li>
                            <span>{{ row["full_name"] or "Unknown company" }}</span>
                            <span class="badge">{{ row["cnt"] }} postings</span>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>No company data yet.</p>
            {% endif %}
        </div>
    </section>

    <section class="section-actions">
        <a class="btn" href="{{ url_for('index') }}">Back to Home</a>
        <a class="btn btn-secondary" href="{{ url_for('admin_reports') }}">View Reported Internships (Admin)</a>
    </section>
</main>
</body>
</html> -->
